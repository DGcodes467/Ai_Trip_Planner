

const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.EXPO_PUBLIC_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

   export const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : New york USA, for 1 Days and 1 Night for Family with a Luxury budget with a Flight and Train details, Flight & Train price with Booking url ,Hotels options list with HotelName,Hotel address,price,hotel image url, geo coordinates, ratings, description and places to visit nearby with place name,place details,place image url, geo coordinates,ticket pricing, time to travel  each of the location in  1 days and 1 night with each day plan with best time to visit in JSON format\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"trip\": {\n    \"destination\": \"New York City, USA\",\n    \"duration\": \"1 day and 1 night\",\n    \"budget\": \"Luxury\",\n    \"travel_mode\": {\n      \"flight\": {\n        \"airline\": \"Delta Airlines\",\n        \"departure_airport\": \"Your Local Airport\",\n        \"arrival_airport\": \"John F. Kennedy International Airport (JFK)\",\n        \"booking_url\": \"https://www.delta.com/\",\n        \"price\": \"Varies, check the website\",\n        \"flight_details\": {\n          \"departure_time\": \"Varies\",\n          \"arrival_time\": \"Varies\"\n        }\n      },\n      \"train\": {\n        \"train_company\": \"Amtrak\",\n        \"departure_station\": \"Your Local Train Station\",\n        \"arrival_station\": \"Penn Station\",\n        \"booking_url\": \"https://www.amtrak.com/\",\n        \"price\": \"Varies, check the website\",\n        \"train_details\": {\n          \"departure_time\": \"Varies\",\n          \"arrival_time\": \"Varies\"\n        }\n      }\n    },\n    \"accommodation\": {\n      \"hotel_options\": [\n        {\n          \"hotel_name\": \"The Peninsula New York\",\n          \"hotel_address\": \"700 Fifth Avenue, New York, NY 10019\",\n          \"price\": \"From $1,500 per night\",\n          \"hotel_image_url\": \"https://www.peninsula.com/en/new-york/hotel-images/peninsula-new-york-exterior.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7580,\n            \"longitude\": -73.9855\n          },\n          \"ratings\": \"4.8 stars\",\n          \"description\": \"A luxurious hotel in Midtown Manhattan, offering stunning views of Central Park.\",\n          \"places_to_visit_nearby\": [\n            {\n              \"place_name\": \"Central Park\",\n              \"place_details\": \"A large urban park with gardens, playgrounds, and monuments.\",\n              \"place_image_url\": \"https://www.nycgo.com/assets/img/new-york-city/attractions/central-park-fountain.jpg\",\n              \"geo_coordinates\": {\n                \"latitude\": 40.7829,\n                \"longitude\": -73.9654\n              },\n              \"ticket_pricing\": \"Free\",\n              \"time_to_travel\": \"15-minute walk from the hotel\"\n            },\n            {\n              \"place_name\": \"Museum of Modern Art (MoMA)\",\n              \"place_details\": \"World-renowned museum showcasing modern and contemporary art.\",\n              \"place_image_url\": \"https://www.moma.org/images/collections/images/moma/289/w256h192/moma_289.jpg\",\n              \"geo_coordinates\": {\n                \"latitude\": 40.7614,\n                \"longitude\": -73.9776\n              },\n              \"ticket_pricing\": \"Adults $25\",\n              \"time_to_travel\": \"15-minute walk from the hotel\"\n            }\n          ]\n        },\n        {\n          \"hotel_name\": \"The Ritz-Carlton New York, Central Park\",\n          \"hotel_address\": \"50 Central Park South, New York, NY 10019\",\n          \"price\": \"From $1,200 per night\",\n          \"hotel_image_url\": \"https://www.ritzcarlton.com/en/hotels/new-york/central-park/media/hotel-images/ritz-carlton-new-york-central-park-hotel-exterior.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7649,\n            \"longitude\": -73.9771\n          },\n          \"ratings\": \"4.7 stars\",\n          \"description\": \"Elegant hotel in the heart of Midtown, boasting stunning views of Central Park.\",\n          \"places_to_visit_nearby\": [\n            {\n              \"place_name\": \"Central Park\",\n              \"place_details\": \"A large urban park with gardens, playgrounds, and monuments.\",\n              \"place_image_url\": \"https://www.nycgo.com/assets/img/new-york-city/attractions/central-park-fountain.jpg\",\n              \"geo_coordinates\": {\n                \"latitude\": 40.7829,\n                \"longitude\": -73.9654\n              },\n              \"ticket_pricing\": \"Free\",\n              \"time_to_travel\": \"5-minute walk from the hotel\"\n            },\n            {\n              \"place_name\": \"Carnegie Hall\",\n              \"place_details\": \"Iconic concert hall hosting world-renowned performances.\",\n              \"place_image_url\": \"https://www.carnegiehall.org/sites/default/files/styles/large_hero/public/2017-06/CarnegieHall_Exterior_Night_0023.jpg\",\n              \"geo_coordinates\": {\n                \"latitude\": 40.7580,\n                \"longitude\": -73.9817\n              },\n              \"ticket_pricing\": \"Varies by event\",\n              \"time_to_travel\": \"10-minute walk from the hotel\"\n            }\n          ]\n        },\n        {\n          \"hotel_name\": \"The Four Seasons Hotel New York Downtown\",\n          \"hotel_address\": \"27 Barclay Street, New York, NY 10007\",\n          \"price\": \"From $1,000 per night\",\n          \"hotel_image_url\": \"https://www.fourseasons.com/newyorkdowntown/images/hotel/gallery/hero-01-040218-desktop.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 40.7131,\n            \"longitude\": -74.0085\n          },\n          \"ratings\": \"4.9 stars\",\n          \"description\": \"Modern hotel in Tribeca, offering stylish accommodations and a rooftop bar.\",\n          \"places_to_visit_nearby\": [\n            {\n              \"place_name\": \"The National September 11 Memorial & Museum\",\n              \"place_details\": \"Memorial and museum dedicated to the victims of the September 11 attacks.\",\n              \"place_image_url\": \"https://www.911memorial.org/sites/default/files/styles/gallery_large/public/images/gallery/general-memorial/memorial_gallery_031.jpg\",\n              \"geo_coordinates\": {\n                \"latitude\": 40.7128,\n                \"longitude\": -74.0134\n              },\n              \"ticket_pricing\": \"Adults $26\",\n              \"time_to_travel\": \"10-minute walk from the hotel\"\n            },\n            {\n              \"place_name\": \"Stone Street\",\n              \"place_details\": \"Historic cobblestone street with restaurants and bars.\",\n              \"place_image_url\": \"https://www.nycgo.com/assets/img/new-york-city/neighborhoods/stone-street.jpg\",\n              \"geo_coordinates\": {\n                \"latitude\": 40.7100,\n                \"longitude\": -74.0071\n              },\n              \"ticket_pricing\": \"Free\",\n              \"time_to_travel\": \"5-minute walk from the hotel\"\n            }\n          ]\n        }\n      ]\n    },\n    \"daily_plan\": {\n      \"day_1\": {\n        \"morning\": [\n          {\n            \"activity\": \"Check into your hotel and relax.\",\n            \"time\": \"10:00 AM\"\n          },\n          {\n            \"activity\": \"Have brunch at The Palm Court in The Plaza Hotel.\",\n            \"time\": \"11:30 AM\"\n          }\n        ],\n        \"afternoon\": [\n          {\n            \"activity\": \"Visit the Metropolitan Museum of Art.\",\n            \"time\": \"1:00 PM\"\n          },\n          {\n            \"activity\": \"Take a stroll through Central Park.\",\n            \"time\": \"3:30 PM\"\n          }\n        ],\n        \"evening\": [\n          {\n            \"activity\": \"Enjoy a Broadway show.\",\n            \"time\": \"7:00 PM\"\n          },\n          {\n            \"activity\": \"Dine at a Michelin-starred restaurant.\",\n            \"time\": \"9:30 PM\"\n          }\n        ]\n      },\n      \"day_2\": {\n        \"morning\": [\n          {\n            \"activity\": \"Visit the Empire State Building.\",\n            \"time\": \"10:00 AM\"\n          },\n          {\n            \"activity\": \"Explore Times Square.\",\n            \"time\": \"11:30 AM\"\n          }\n        ],\n        \"afternoon\": [\n          {\n            \"activity\": \"Take a ferry to the Statue of Liberty and Ellis Island.\",\n            \"time\": \"1:00 PM\"\n          }\n        ],\n        \"evening\": [\n          {\n            \"activity\": \"Have dinner at a restaurant with a view of the city.\",\n            \"time\": \"7:00 PM\"\n          },\n          {\n            \"activity\": \"Enjoy a nightcap at a rooftop bar.\",\n            \"time\": \"9:00 PM\"\n          }\n        ]\n      }\n    }\n  }\n}\n```\n\n**Please note:**\n\n* **Flight and Train Prices:** The prices provided are estimates and can vary depending on the time of year, availability, and booking time. It's always best to check the websites for the most up-to-date information.\n* **Hotel Prices:** The prices are also estimates and can vary depending on the season and availability.\n* **Place Details:** The provided descriptions and details are brief. You can find more information on the official websites for each place. \n* **Ticket Pricing:** Ticket prices are subject to change. \n\nThis travel plan is a suggestion, and you can customize it based on your interests and preferences. For example, you can choose different hotels, restaurants, or attractions based on your budget and what you want to see and do in New York City. \n"},
          ],
        },
      ],
    });
  


  
